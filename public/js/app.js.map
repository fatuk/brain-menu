{"version":3,"sources":["app.js"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["var renderer = new THREE.WebGLRenderer();\n\nvar camera = new THREE.PerspectiveCamera(35, window.innerWidth / window.innerHeight, 1, 1000);\n\nvar controls = new THREE.OrbitControls(camera, renderer.domElement);\n// controls.enableDamping = true;\n\nvar scene = new THREE.Scene();\n\nvar matFloor = new THREE.MeshPhongMaterial();\nvar matBox = new THREE.MeshPhongMaterial({\n\tcolor: 0x4080ff\n});\n\nvar geoFloor = new THREE.BoxGeometry(2000, 1, 2000);\nvar geoBox = new THREE.BoxGeometry(3, 1, 2);\n\nvar mshFloor = new THREE.Mesh(geoFloor, matFloor);\nvar mshBox = new THREE.Mesh(geoBox, matBox);\n\nvar ambient = new THREE.AmbientLight(0xffffff, 0.1);\n\nvar spotLight = new THREE.SpotLight(0xffffff, 1);\nvar lightHelper;\n\nvar gui, guiElements, param = {\n\tcolor: '0xffffff'\n};\n// Load mesh\nvar model, mesh, texture;\nnew THREE.JSONLoader().load('models/model.json', function (geometry) {\n\tlet modelTextureLoader = new THREE.TextureLoader();\n\tmodelTextureLoader.load('models/flawless-brick-tile-wx6341.jpg', (texture) => {\n\t\tvar material = new THREE.MeshLambertMaterial({\n\t\t\tmap: texture\n\t\t});\n\t\t// create mesh\n\t\tmodel = new THREE.Mesh(geometry, material);\n\t\tmodel.scale.set(10, 10, 10);\n\t\tmodel.castShadow = true;\n\t\tscene.add(model);\n\t\t// look at mesh\n\t\tcamera.lookAt(model.position);\n\t\tspotLight.target = model;\n\t\tconsole.log(model.position);\n\n\t\t// start render loop\n\t\trender();\n\t});\n});\n// var jsonLoader = new THREE.JSONLoader();\n// jsonLoader.load('models/model.json', (geometry, materials) => {\n// \tvar material = new THREE.MeshFaceMaterial(materials);\n// \tmodel = new THREE.Mesh(geometry, material);\n// \tmodel.scale.set(1, 1, 1);\n// \tmodel.castShadow = true;\n// \tconsole.log(model);\n// \tmodel.position.set(40, 1.8, 0);\n// \tscene.add(model);\n// \trender();\n// });\n\n// Stats\nvar stats = new Stats();\nstats.showPanel(0); // 0: fps, 1: ms, 2: mb, 3+: custom\ndocument.body.appendChild(stats.dom);\n\nfunction init() {\n\n\trenderer.shadowMap.enabled = true;\n\trenderer.shadowMap.type = THREE.PCFSoftShadowMap;\n\n\trenderer.gammaInput = true;\n\trenderer.gammaOutput = true;\n\n\tcamera.position.set(65, 8, -10);\n\n\tspotLight.position.set(15, 40, 35);\n\tspotLight.castShadow = true;\n\tspotLight.angle = Math.PI / 4;\n\tspotLight.penumbra = 0.05;\n\tspotLight.decay = 2;\n\tspotLight.distance = 200;\n\tspotLight.shadow.mapSize.width = 1024;\n\tspotLight.shadow.mapSize.height = 1024;\n\tspotLight.shadow.camera.near = 1;\n\tspotLight.shadow.camera.far = 200;\n\n\tlightHelper = new THREE.SpotLightHelper(spotLight);\n\n\tmatFloor.color.set(0x808080);\n\n\tmshFloor.receiveShadow = true;\n\tmshFloor.position.set(0, -0.05, 0);\n\n\tmshBox.castShadow = true;\n\tmshBox.position.set(40, 1.8, 0);\n\n\tscene.add(camera);\n\tscene.add(mshFloor);\n\t// scene.add(mshBox);\n\tscene.add(ambient);\n\tscene.add(spotLight);\n\tscene.add(new THREE.AxisHelper(10));\n\tscene.add(lightHelper);\n\n\tdocument.body.appendChild(renderer.domElement);\n\trenderer.setSize(window.innerWidth, window.innerHeight);\n\n\tcontrols.addEventListener('change', render);\n\tcontrols.minDistance = 20;\n\tcontrols.maxDistance = 500;\n\tcontrols.maxPolarAngle = Math.PI / 2;\n\tcontrols.enablePan = false;\n\tcontrols.target.copy(mshBox.position);\n\tcontrols.update();\n\n\twindow.addEventListener('resize', onResize, false);\n\n}\n\nfunction onResize() {\n\trenderer.setSize(window.innerWidth, window.innerHeight);\n\tcamera.aspect = (window.innerWidth / window.innerHeight);\n\tcamera.updateProjectionMatrix();\n}\n\nfunction render() {\n\tstats.begin();\n\tlightHelper.update(); // required\n\trenderer.render(scene, camera);\n\tstats.end();\n}\n\nfunction clearGui() {\n\n\tif (gui) gui.destroy();\n\n\tgui = new dat.GUI();\n\n\tgui.open();\n\n}\n\nfunction buildGui() {\n\n\tclearGui();\n\n\taddGui('light color', spotLight.color.getHex(), function (val) {\n\n\t\tspotLight.color.setHex(val);\n\t\trender();\n\n\t}, true);\n\n\taddGui('intensity', spotLight.intensity, function (val) {\n\n\t\tspotLight.intensity = val;\n\t\trender();\n\n\t}, false, 0, 2);\n\n\taddGui('distance', spotLight.distance, function (val) {\n\n\t\tspotLight.distance = val;\n\t\trender();\n\n\t}, false, 0, 200);\n\n\taddGui('angle', spotLight.angle, function (val) {\n\n\t\tspotLight.angle = val;\n\t\trender();\n\n\t}, false, 0, Math.PI / 3);\n\n\taddGui('penumbra', spotLight.penumbra, function (val) {\n\n\t\tspotLight.penumbra = val;\n\t\trender();\n\n\t}, false, 0, 1);\n\n\taddGui('decay', spotLight.decay, function (val) {\n\n\t\tspotLight.decay = val;\n\t\trender();\n\n\t}, false, 1, 2);\n\n}\n\nfunction addGui(name, value, callback, isColor, min, max) {\n\n\tvar node;\n\tparam[name] = value;\n\n\tif (isColor) {\n\n\t\tnode = gui.addColor(param, name).onChange(function () {\n\n\t\t\tcallback(param[name]);\n\n\t\t});\n\n\t} else if (typeof value == 'object') {\n\n\t\tnode = gui.add(param, name, value).onChange(function () {\n\n\t\t\tcallback(param[name]);\n\n\t\t});\n\n\t} else {\n\n\t\tnode = gui.add(param, name, min, max).onChange(function () {\n\n\t\t\tcallback(param[name]);\n\n\t\t});\n\n\t}\n\n\treturn node;\n\n}\n\ninit();\n\nbuildGui();\n\nrender();\n"],"sourceRoot":"/source/"}