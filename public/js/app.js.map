{"version":3,"sources":["animate.js","app.js","autoPlay.js","brain-click.js","callbacks.js","camera.js","hint.js","light.js","lines.js","menu.js","modal.js","model.js","mouseHover.js","render.js","spinner.js"],"names":["animate","animationLoop","requestAnimationFrame","mouseHover","render","camera","scene","renderer","geometry","material","mesh","pivot","spotLight","directLight1","directLight2","ambientLight","lightHelper1","lineServices","lineProjects","lineAbout","projector","INTERSECTED","raycaster","lineContacts","lightHelper2","myHint","myModal","currentState","brainTextures","angle","width","window","innerWidth","height","innerHeight","$rotationInfoX","document","getElementsByClassName","$rotationInfoY","$info","targetRotationX","targetRotationOnMouseDownX","targetRotationY","targetRotationOnMouseDownY","mouseX","mouseXOnMouseDown","mouseY","mouseYOnMouseDown","windowHalfX","windowHalfY","currentPart","finalRotationY","ROTATION_BOUNCE","MOUSE_ROTATION_SPEED","TOUCH_ROTATION_SPEED","mouse","THREE","Vector2","circleNumber","minIntense","maxIntense","fadeTime","showInfo","isHover","isMoving","isMovingLocked","isSelected","isStoped","init","brainPlayer","waitingTimer","waitForPlayer","isStopedFn","dispatchEvent","hasStoped","Raycaster","WebGLRenderer","alpha","antialias","setSize","sortObjects","container","getElementById","appendChild","domElement","addEventListener","onDocumentMouseDown","onDocumentTouchStart","onDocumentTouchMove","onWindowResize","onDocumentReady","Projector","onMouseHover","e","stopTimer","resetFlames","close","target","className","goTo","counter","endTime","timer","setInterval","startPlayer","console","log","playerId","clearInterval","delay","parts","length","part","data","hintDelay","startFlamesPulsing","resetIntense","resetSelection","Math","floor","rotation","y","PI","fadeIn","brainModel","brain","selected","id","title","menu","text","url","setTimeout","flames","children","setData","open","round","resetAll","i","fadeOut","emissiveIntensity","flamePulsing","aspect","updateProjectionMatrix","event","preventDefault","onDocumentMouseMove","onDocumentMouseUp","onDocumentMouseOut","clientX","clientY","x","removeEventListener","touches","pageX","pageY","cameraInit","PerspectiveCamera","position","z","add","Hint","$body","$","menuHtml","item","menuTemplate","template","getMenu","find","destroy","append","$hint","addClass","remove","lightInit","AmbientLight","DirectionalLight","set","DirectionalLightHelper","lines","LineBasicMaterial","color","Geometry","Line","vertices","Vector3","clone","$aboutBtn","$projectsBtn","$servicesBtn","$contactsBtn","on","link","cancelAnimationFrame","Modal","$overlay","$modal","off","BrainModel","imageLoader","ImageLoader","XHRLoader","jsonUrl","loadedImages","loadImages","promiseArray","path","texturesList","name","forEach","index","push","Promise","resolve","reject","load","image","all","then","res","loadScene","err","hideSpinner","json","JSON","parse","loader","ObjectLoader","mainGroup","brainGroup","gearsGroup","opacity","map","alphaMap","normalMap","roughnessMap","metalnessMap","envMap","emissiveMap","obj","attr","min","max","params","intense","TweenMax","to","ease","Power1","easeOut","onUpdate","offset","easeInOut","repeat","yoyo","updateMatrixWorld","setFromCamera","intersects","intersectObjects","object","prevAngle","prevRot","currentRot","textContent","querySelector","classList","$spinner"],"mappings":"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","file":"app.js","sourcesContent":["function animate() {\n\tanimationLoop = requestAnimationFrame(animate);\n\tmouseHover();\n\trender();\n}\n","let camera,\n\tscene,\n\trenderer,\n\tgeometry,\n\tmaterial,\n\tmesh,\n\tpivot,\n\tspotLight,\n\tdirectLight1,\n\tdirectLight2,\n\tambientLight,\n\tlightHelper1,\n\tlineServices,\n\tlineProjects,\n\tlineAbout,\n\tprojector,\n\tINTERSECTED,\n\traycaster,\n\tlineContacts,\n\tanimationLoop,\n\tlightHelper2,\n\tmyHint,\n\tmyModal;\n\nlet currentState = 'about';\n// Texture images\nlet brainTextures = {};\n\nlet angle = 0;\nlet width = window.innerWidth;\nlet height = window.innerHeight;\n\nlet $rotationInfoX = document.getElementsByClassName('js-rotationX')[0];\nlet $rotationInfoY = document.getElementsByClassName('js-rotationY')[0];\nlet $info = document.getElementsByClassName('js-info')[0];\n\nlet targetRotationX = 0;\nlet targetRotationOnMouseDownX = 0;\n\nlet targetRotationY = 0;\nlet targetRotationOnMouseDownY = 0;\n\nlet mouseX = 0;\nlet mouseXOnMouseDown = 0;\n\nlet mouseY = 0;\nlet mouseYOnMouseDown = 0;\n\nlet windowHalfX = window.innerWidth / 2;\nlet windowHalfY = window.innerHeight / 2;\n\nlet currentPart = null;\n\nlet finalRotationY;\nconst ROTATION_BOUNCE = 0.05;\nconst MOUSE_ROTATION_SPEED = 0.008;\nconst TOUCH_ROTATION_SPEED = 0.008;\n\nlet mouse = new THREE.Vector2(); // create once\nlet circleNumber;\n\n// Fade config\nlet minIntense = 0;\nlet maxIntense = 3;\nlet fadeTime = 0.5; // seconds\n\n// Info\nwindow.showInfo = false;\n\n// Hover config\nlet isHover = false;\nlet isMoving = false;\nlet isMovingLocked = false;\nlet isSelected = false;\nlet isStoped;\n\n\ninit();\nanimate();\n\n// Player\nlet brainPlayer;\nlet waitingTimer;\nwaitingTimer = waitForPlayer();\n\nfunction isStopedFn() {\n\tif (!isStoped) {\n\t\tisStoped = true;\n\t\twindow.dispatchEvent(hasStoped);\n\t}\n}\n\nfunction init() {\n\traycaster = new THREE.Raycaster(); // create once\n\n\trenderer = new THREE.WebGLRenderer({\n\t\talpha: true,\n\t\tantialias: false\n\t});\n\trenderer.setSize(window.innerWidth, window.innerHeight);\n\trenderer.sortObjects = false;\n\n\tlet container = document.getElementById('brain');\n\tcontainer.appendChild(renderer.domElement);\n\n\tdocument.addEventListener('mousedown', onDocumentMouseDown, false);\n\tdocument.addEventListener('touchstart', onDocumentTouchStart, false);\n\tdocument.addEventListener('touchmove', onDocumentTouchMove, false);\n\twindow.addEventListener('resize', onWindowResize, false);\n\tdocument.addEventListener('DOMContentLoaded', onDocumentReady);\n\n\t// initialize object to perform world/screen calculations\n\tprojector = new THREE.Projector();\n\n\t// when the mouse moves, call the given function\n\tdocument.addEventListener('mousemove', onMouseHover, false);\n\n\tdocument.addEventListener('mousedown', function (e) {\n\t\tisMovingLocked = true;\n\t\tstopTimer(waitingTimer);\n\t\tresetFlames();\n\t\tmyHint.close();\n\t\twaitingTimer = waitForPlayer();\n\t}, false);\n\n\tdocument.addEventListener('mouseup', function (e) {\n\t\tif (e.target.className !== 'hint__menu-link' && !isMoving) {\n\t\t\tgoTo(currentPart);\n\t\t}\n\t}, false);\n}\n","function waitForPlayer() {\n\tlet counter = 0;\n\tlet endTime = 10;\n\tlet timer = setInterval(function () {\n\t\tif (counter === endTime) {\n\t\t\tstopTimer(timer);\n\t\t\tstartPlayer();\n\t\t}\n\t\tcounter++;\n\t\tconsole.log('waitForPlayer: ', counter);\n\t}, 1000);\n\n\tstopTimer(brainPlayer);\n\treturn timer;\n}\n\nfunction stopTimer(playerId) {\n\twindow.clearInterval(playerId);\n}\n\nfunction startPlayer() {\n\tlet counter = 0;\n\tlet delay = 5000;\n\tlet parts = [\n\t\t'o-brain-1',\n\t\t'o-brain-2',\n\t\t'o-brain-3',\n\t\t'o-brain-4',\n\t\t'o-brain-5_1',\n\t\t'o-brain-6_1',\n\t\t'o-brain-7'\n\t];\n\n\tbrainPlayer = setInterval(function () {\n\t\tif (counter === parts.length - 1) {\n\t\t\tcounter = 0;\n\t\t}\n\t\tgoTo(parts[counter]);\n\t\tcounter++;\n\t}, delay);\n}\n","function goTo(part) {\n\tlet data;\n\tlet hintDelay = 1000;\n\tisSelected = true;\n\tstartFlamesPulsing();\n\tresetFlames();\n\tresetIntense();\n\tresetSelection();\n\tswitch (part) {\n\t\tcase 'o-brain-1':\n\t\t\tconsole.log('[0] o-brain-1');\n\t\t\tcircleNumber = Math.floor(mesh.rotation.y / (Math.PI * 2));\n\t\t\ttargetRotationY = 0.84;\n\t\t\ttargetRotationX = 3.32 + (circleNumber * Math.PI * 2);\n\t\t\tfadeIn(brainModel.brain[0], 'emissiveIntensity', minIntense, maxIntense);\n\t\t\tbrainModel.brain[0].selected = true;\n\n\t\t\tdata = {\n\t\t\t\tid: 'about',\n\t\t\t\ttitle: 'О компании',\n\t\t\t\tmenu: [{\n\t\t\t\t\ttext: 'История',\n\t\t\t\t\turl: 'http://ya.ru'\n\t\t\t\t}, {\n\t\t\t\t\ttext: 'Менеджмент',\n\t\t\t\t\turl: 'http://ya.ru'\n\t\t\t\t}, {\n\t\t\t\t\ttext: 'Наша жизнь',\n\t\t\t\t\turl: 'http://ya.ru'\n\t\t\t\t}]\n\t\t\t};\n\t\t\tmyHint.close();\n\t\t\tsetTimeout(() => {\n\t\t\t\tfadeIn(brainModel.flames.children[0], 'opacity', 0, 0.7);\n\t\t\t\tmyHint.setData(data).open();\n\t\t\t}, hintDelay);\n\t\t\tbreak;\n\t\tcase 'o-brain-2':\n\t\t\tconsole.log('[1] o-brain-2');\n\t\t\tcircleNumber = Math.round(mesh.rotation.y / (Math.PI * 2));\n\t\t\ttargetRotationY = 0.75;\n\t\t\ttargetRotationX = -0.2 + (circleNumber * Math.PI * 2);\n\t\t\tfadeIn(brainModel.brain[1], 'emissiveIntensity', minIntense, maxIntense);\n\t\t\tbrainModel.brain[1].selected = true;\n\n\t\t\tdata = {\n\t\t\t\tid: 'servises',\n\t\t\t\ttitle: 'Услуги',\n\t\t\t\tmenu: [{\n\t\t\t\t\ttext: 'История',\n\t\t\t\t\turl: 'http://ya.ru'\n\t\t\t\t}, {\n\t\t\t\t\ttext: 'Менеджмент',\n\t\t\t\t\turl: 'http://ya.ru'\n\t\t\t\t}, {\n\t\t\t\t\ttext: 'Наша жизнь',\n\t\t\t\t\turl: 'http://ya.ru'\n\t\t\t\t}]\n\t\t\t};\n\n\t\t\tmyHint.close();\n\t\t\tsetTimeout(() => {\n\t\t\t\tfadeIn(brainModel.flames.children[1], 'opacity', 0, 0.7);\n\t\t\t\tmyHint.setData(data).open();\n\t\t\t}, hintDelay);\n\t\t\tbreak;\n\t\tcase 'o-brain-3':\n\t\t\tconsole.log('[2] o-brain-3');\n\t\t\tcircleNumber = Math.floor(mesh.rotation.y / (Math.PI * 2));\n\t\t\ttargetRotationY = -0.23;\n\t\t\ttargetRotationX = 2.15 + (circleNumber * Math.PI * 2);\n\t\t\tfadeIn(brainModel.brain[2], 'emissiveIntensity', minIntense, maxIntense);\n\t\t\tbrainModel.brain[2].selected = true;\n\n\t\t\tdata = {\n\t\t\t\tid: 'projects',\n\t\t\t\ttitle: 'Проекты',\n\t\t\t\tmenu: [{\n\t\t\t\t\ttext: 'История',\n\t\t\t\t\turl: 'http://ya.ru'\n\t\t\t\t}, {\n\t\t\t\t\ttext: 'Менеджмент',\n\t\t\t\t\turl: 'http://ya.ru'\n\t\t\t\t}, {\n\t\t\t\t\ttext: 'Наша жизнь',\n\t\t\t\t\turl: 'http://ya.ru'\n\t\t\t\t}]\n\t\t\t};\n\t\t\tmyHint.close();\n\t\t\tsetTimeout(() => {\n\t\t\t\tfadeIn(brainModel.flames.children[2], 'opacity', 0, 0.7);\n\t\t\t\tmyHint.setData(data).open();\n\t\t\t}, hintDelay);\n\t\t\tbreak;\n\t\tcase 'o-brain-4':\n\t\t\tconsole.log('[3] o-brain-4');\n\t\t\tcircleNumber = Math.round(mesh.rotation.y / (Math.PI * 2));\n\t\t\ttargetRotationY = -0.4;\n\t\t\ttargetRotationX = 0.79 + (circleNumber * Math.PI * 2);\n\t\t\tfadeIn(brainModel.brain[3], 'emissiveIntensity', minIntense, maxIntense);\n\t\t\tbrainModel.brain[3].selected = true;\n\n\t\t\tdata = {\n\t\t\t\tid: 'career',\n\t\t\t\ttitle: 'Карьера',\n\t\t\t\tmenu: [{\n\t\t\t\t\ttext: 'История',\n\t\t\t\t\turl: 'http://ya.ru'\n\t\t\t\t}, {\n\t\t\t\t\ttext: 'Менеджмент',\n\t\t\t\t\turl: 'http://ya.ru'\n\t\t\t\t}, {\n\t\t\t\t\ttext: 'Наша жизнь',\n\t\t\t\t\turl: 'http://ya.ru'\n\t\t\t\t}]\n\t\t\t};\n\t\t\tmyHint.close();\n\t\t\tsetTimeout(() => {\n\t\t\t\tfadeIn(brainModel.flames.children[3], 'opacity', 0, 0.7);\n\t\t\t\tmyHint.setData(data).open();\n\t\t\t}, hintDelay);\n\t\t\tbreak;\n\t\tcase 'o-brain-5_1':\n\t\t\tconsole.log('[4] o-brain-5_1');\n\t\t\tcircleNumber = Math.floor(mesh.rotation.y / (Math.PI * 2));\n\t\t\ttargetRotationY = -0.5;\n\t\t\ttargetRotationX = 3.57 + (circleNumber * Math.PI * 2);\n\t\t\tfadeIn(brainModel.brain[4], 'emissiveIntensity', minIntense, maxIntense);\n\t\t\tfadeIn(brainModel.brain[5], 'emissiveIntensity', minIntense, maxIntense);\n\t\t\tbrainModel.brain[4].selected = true;\n\t\t\tbrainModel.brain[5].selected = true;\n\n\t\t\tdata = {\n\t\t\t\tid: 'news',\n\t\t\t\ttitle: 'Новости',\n\t\t\t\tmenu: [{\n\t\t\t\t\ttext: 'История',\n\t\t\t\t\turl: 'http://ya.ru'\n\t\t\t\t}, {\n\t\t\t\t\ttext: 'Менеджмент',\n\t\t\t\t\turl: 'http://ya.ru'\n\t\t\t\t}, {\n\t\t\t\t\ttext: 'Наша жизнь',\n\t\t\t\t\turl: 'http://ya.ru'\n\t\t\t\t}]\n\t\t\t};\n\t\t\tmyHint.close();\n\t\t\tsetTimeout(() => {\n\t\t\t\tfadeIn(brainModel.flames.children[4], 'opacity', 0, 0.7);\n\t\t\t\tmyHint.setData(data).open();\n\t\t\t}, hintDelay);\n\t\t\tbreak;\n\t\tcase 'o-brain-5_2':\n\t\t\tconsole.log('[5] o-brain-5_2');\n\t\t\tcircleNumber = Math.floor(mesh.rotation.y / (Math.PI * 2));\n\t\t\ttargetRotationY = -0.5;\n\t\t\ttargetRotationX = 3.57 + (circleNumber * Math.PI * 2);\n\t\t\tfadeIn(brainModel.brain[4], 'emissiveIntensity', minIntense, maxIntense);\n\t\t\tfadeIn(brainModel.brain[5], 'emissiveIntensity', minIntense, maxIntense);\n\t\t\tbrainModel.brain[4].selected = true;\n\t\t\tbrainModel.brain[5].selected = true;\n\n\t\t\tdata = {\n\t\t\t\tid: 'news',\n\t\t\t\ttitle: 'Новости',\n\t\t\t\tmenu: [{\n\t\t\t\t\ttext: 'История',\n\t\t\t\t\turl: 'http://ya.ru'\n\t\t\t\t}, {\n\t\t\t\t\ttext: 'Менеджмент',\n\t\t\t\t\turl: 'http://ya.ru'\n\t\t\t\t}, {\n\t\t\t\t\ttext: 'Наша жизнь',\n\t\t\t\t\turl: 'http://ya.ru'\n\t\t\t\t}]\n\t\t\t};\n\t\t\tmyHint.close();\n\t\t\tsetTimeout(() => {\n\t\t\t\tfadeIn(brainModel.flames.children[4], 'opacity', 0, 0.7);\n\t\t\t\tmyHint.setData(data).open();\n\t\t\t}, hintDelay);\n\t\t\tbreak;\n\t\tcase 'o-brain-6_1':\n\t\t\tconsole.log('[6] o-brain-6_1');\n\t\t\tcircleNumber = Math.round(mesh.rotation.y / (Math.PI * 2));\n\t\t\ttargetRotationY = -0.5;\n\t\t\ttargetRotationX = -0.59 + (circleNumber * Math.PI * 2);\n\t\t\tfadeIn(brainModel.brain[6], 'emissiveIntensity', minIntense, maxIntense);\n\t\t\tfadeIn(brainModel.brain[7], 'emissiveIntensity', minIntense, maxIntense);\n\t\t\tbrainModel.brain[6].selected = true;\n\t\t\tbrainModel.brain[7].selected = true;\n\n\t\t\tdata = {\n\t\t\t\tid: 'contacts',\n\t\t\t\ttitle: 'Контакты',\n\t\t\t\tmenu: [{\n\t\t\t\t\ttext: 'История',\n\t\t\t\t\turl: 'http://ya.ru'\n\t\t\t\t}, {\n\t\t\t\t\ttext: 'Менеджмент',\n\t\t\t\t\turl: 'http://ya.ru'\n\t\t\t\t}, {\n\t\t\t\t\ttext: 'Наша жизнь',\n\t\t\t\t\turl: 'http://ya.ru'\n\t\t\t\t}]\n\t\t\t};\n\t\t\tmyHint.close();\n\t\t\tsetTimeout(() => {\n\t\t\t\tfadeIn(brainModel.flames.children[5], 'opacity', 0, 0.7);\n\t\t\t\tmyHint.setData(data).open();\n\t\t\t}, hintDelay);\n\t\t\tbreak;\n\t\tcase 'o-brain-6_2':\n\t\t\tconsole.log('[7] o-brain-6_2');\n\t\t\tcircleNumber = Math.round(mesh.rotation.y / (Math.PI * 2));\n\t\t\ttargetRotationY = -0.5;\n\t\t\ttargetRotationX = -0.59 + (circleNumber * Math.PI * 2);\n\t\t\tfadeIn(brainModel.brain[6], 'emissiveIntensity', minIntense, maxIntense);\n\t\t\tfadeIn(brainModel.brain[7], 'emissiveIntensity', minIntense, maxIntense);\n\t\t\tbrainModel.brain[6].selected = true;\n\t\t\tbrainModel.brain[7].selected = true;\n\n\t\t\tdata = {\n\t\t\t\tid: 'contacts',\n\t\t\t\ttitle: 'Контакты',\n\t\t\t\tmenu: [{\n\t\t\t\t\ttext: 'История',\n\t\t\t\t\turl: 'http://ya.ru'\n\t\t\t\t}, {\n\t\t\t\t\ttext: 'Менеджмент',\n\t\t\t\t\turl: 'http://ya.ru'\n\t\t\t\t}, {\n\t\t\t\t\ttext: 'Наша жизнь',\n\t\t\t\t\turl: 'http://ya.ru'\n\t\t\t\t}]\n\t\t\t};\n\t\t\tmyHint.close();\n\t\t\tsetTimeout(() => {\n\t\t\t\tfadeIn(brainModel.flames.children[5], 'opacity', 0, 0.7);\n\t\t\t\tmyHint.setData(data).open();\n\t\t\t}, hintDelay);\n\t\t\tbreak;\n\t\tcase 'o-brain-7':\n\t\t\tconsole.log('[8] o-brain-7');\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tisSelected = false;\n\t\t\t// resetAll();\n\t\t\tresetIntense();\n\t\t\tmyHint.close();\n\t\t\tbreak;\n\t}\n}\n\nfunction resetAll() {\n\tresetFlames();\n\tresetSelection();\n\tresetIntense();\n}\n\nfunction resetFlames() {\n\tfor (let i = 0; i < 7; i++) {\n\t\tfadeOut(brainModel.flames.children[i], 'opacity', 0, 0.7);\n\t}\n}\n\nfunction resetSelection() {\n\tfor (let i = 0; i < 9; i++) {\n\t\tbrainModel.brain[i].selected = false;\n\t}\n}\n\nfunction resetIntense() {\n\tfor (let i = 0; i < 9; i++) {\n\t\tif (brainModel.brain[i].material.emissiveIntensity === maxIntense) {\n\t\t\tfadeOut(brainModel.brain[i], 'emissiveIntensity', minIntense, maxIntense);\n\t\t}\n\t}\n}\n\nfunction startFlamesPulsing() {\n\tfor (let i = 0; i < 7; i++) {\n\t\tflamePulsing(brainModel.flames.children[i]);\n\t}\n}\n","function onDocumentReady () {\n\tmenu();\n}\n\nfunction onWindowResize() {\n\twidth = window.innerWidth;\n\theight = window.innerHeight;\n\twindowHalfX = width / 2;\n\twindowHalfY = height / 2;\n\tcamera.aspect = width / height;\n\tcamera.updateProjectionMatrix();\n\trenderer.setSize(width, height);\n}\n\nfunction onDocumentMouseDown(event) {\n\tevent.preventDefault();\n\tdocument.addEventListener('mousemove', onDocumentMouseMove, false);\n\tdocument.addEventListener('mouseup', onDocumentMouseUp, false);\n\tdocument.addEventListener('mouseout', onDocumentMouseOut, false);\n\tmouseXOnMouseDown = event.clientX - windowHalfX;\n\ttargetRotationOnMouseDownX = targetRotationX;\n\tmouseYOnMouseDown = event.clientY - windowHalfY;\n\ttargetRotationOnMouseDownY = targetRotationY;\n}\n\nfunction onMouseHover (event) {\n\tevent.preventDefault();\n\tmouse.x = ( event.clientX / window.innerWidth ) * 2 - 1;\n\tmouse.y = - ( event.clientY / window.innerHeight ) * 2 + 1;\n}\n\nfunction onDocumentMouseMove(event) {\n\tisMoving = true;\n\tstopTimer(waitingTimer);\n\twaitingTimer = waitForPlayer();\n\tmouseX = event.clientX - windowHalfX;\n\tmouseY = event.clientY - windowHalfY;\n\ttargetRotationY = targetRotationOnMouseDownY + (mouseY - mouseYOnMouseDown) * MOUSE_ROTATION_SPEED;\n\ttargetRotationX = targetRotationOnMouseDownX + (mouseX - mouseXOnMouseDown) * MOUSE_ROTATION_SPEED;\n}\n\nfunction onDocumentMouseUp(event) {\n\tdocument.removeEventListener('mousemove', onDocumentMouseMove, false);\n\tdocument.removeEventListener('mouseup', onDocumentMouseUp, false);\n\tdocument.removeEventListener('mouseout', onDocumentMouseOut, false);\n}\n\nfunction onDocumentMouseOut(event) {\n\tdocument.removeEventListener('mousemove', onDocumentMouseMove, false);\n\tdocument.removeEventListener('mouseup', onDocumentMouseUp, false);\n\tdocument.removeEventListener('mouseout', onDocumentMouseOut, false);\n}\n\nfunction onDocumentTouchStart(event) {\n\tif (event.touches.length == 1) {\n\t\tevent.preventDefault();\n\t\tmouseXOnMouseDown = event.touches[0].pageX - windowHalfX;\n\t\ttargetRotationOnMouseDownX = targetRotationX;\n\t\tmouseYOnMouseDown = event.touches[0].pageY - windowHalfY;\n\t\ttargetRotationOnMouseDownY = targetRotationY;\n\t}\n}\n\nfunction onDocumentTouchMove(event) {\n\tif (event.touches.length == 1) {\n\t\tevent.preventDefault();\n\t\tmouseX = event.touches[0].pageX - windowHalfX;\n\t\ttargetRotationX = targetRotationOnMouseDownX + (mouseX - mouseXOnMouseDown) * TOUCH_ROTATION_SPEED;\n\t\tmouseY = event.touches[0].pageY - windowHalfY;\n\t\ttargetRotationY = targetRotationOnMouseDownY + (mouseY - mouseYOnMouseDown) * TOUCH_ROTATION_SPEED;\n\t}\n}\n","function cameraInit() {\n\tcamera = new THREE.PerspectiveCamera(50, width / height, 0.1, 10000);\n\tcamera.position.x = -0.26;\n\tcamera.position.y = 1;\n\tcamera.position.z = 10.85;\n\tscene.add(camera);\n}\n","class Hint {\n\tconstructor() {\n\t\tthis.data = this.data || {};\n\t\tthis.$body = $('body');\n\t}\n\tsetData(data) {\n\t\tthis.data = data;\n\t\treturn this;\n\t}\n\tgetMenu(data) {\n\t\tlet menuHtml = '';\n\t\tfor (let item in data) {\n\t\t\tmenuHtml += `\n<li class=\"hint__menu-item\">\n\t<a href=\"${data[item].url}\" class=\"hint__menu-link\">\n\t\t${data[item].text}\n\t</a>\n</li>\n`;\n\t\t}\n\t\tthis.menuTemplate = `\n<ul class=\"hint__menu\">\n\t${menuHtml}\n</ul>\n`;\n\t\treturn this.menuTemplate;\n\t}\n\topen() {\n\t\tthis.$body = $('body');\n\t\tthis.template = `\n<div id=\"${this.data.id}\" class=\"hint js-hint animated fadeIn\">\n\t<!-- Hint -->\n\t<img src=\"./img/hint.svg\" alt=\"\" class=\"hint__background\">\n\t<div class=\"hint__container\">\n\t\t<h2 class=\"hint__title\">\n\t\t\t${this.data.title}\n\t\t</h2>\n\t\t${this.getMenu(this.data.menu)}\n\t</div>\n</div>\n`;\n\t\tif (!this.$body.find('#' + this.data.id).length) {\n\t\t\tthis.destroy();\n\t\t\tthis.$body.append(this.template);\n\t\t\tthis.$hint = $('.js-hint');\n\t\t}\n\t\treturn this;\n\t}\n\tclose() {\n\t\tif (this.$hint) {\n\t\t\tthis.$hint.addClass('fadeOut');\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.destroy();\n\t\t\t}, 1000);\n\t\t}\n\t}\n\tdestroy() {\n\t\tif (this.$hint) {\n\t\t\tthis.$hint.remove();\n\t\t\tthis.data = {};\n\t\t}\n\t}\n};\n\nmyHint = new Hint();\n","function lightInit () {\n\t// Ambient light\n\tambientLight = new THREE.AmbientLight(0xffffff, 0.3);\n\t// Spotlight\n\tdirectLight1 = new THREE.DirectionalLight(0xffffff, 2);\n\tdirectLight2 = new THREE.DirectionalLight(0xffffff);\n\tdirectLight1.position.set(5, 10, 7.5);\n\tdirectLight2.position.set(5, 10, -7.5);\n\t// Light helper\n\tlightHelper1 = new THREE.DirectionalLightHelper(directLight1);\n\tlightHelper2 = new THREE.DirectionalLightHelper(directLight2);\n\tscene.add(ambientLight);\n\tscene.add(directLight1);\n\t// scene.add(directLight2);\n\t// scene.add(lightHelper1);\n\t// scene.add(lightHelper2);\n}\n","function lines() {\n\tvar material = new THREE.LineBasicMaterial({\n\t\tcolor: 0x8e7f78\n\t});\n\n\tvar geometry = new THREE.Geometry();\n/*\tgeometry.vertices.push(\n\t\tnew THREE.Vector3(-10, 1, 0),\n\t\tnew THREE.Vector3(0, 0, 0)\n\t);*/\n\n\tlineServices = new THREE.Line(geometry, material);\n\tlineServices.geometry.vertices = [\n\t\tnew THREE.Vector3(-10, 1, 0),\n\t\tnew THREE.Vector3(0, 0, 0)\n\t];\n\n\tlineContacts = new THREE.Line(geometry.clone(), material);\n\tlineContacts.geometry.vertices = [\n\t\t// new THREE.Vector3(0, -10, 0),\n\t\tnew THREE.Vector3(0, -10, 0),\n\t\tnew THREE.Vector3(0, 0, 0)\n\t];\n\n\tlineAbout = new THREE.Line(geometry.clone(), material);\n\tlineAbout.geometry.vertices = [\n\t\tnew THREE.Vector3(10, 0, 0),\n\t\tnew THREE.Vector3(0, 0, 0)\n\t];\n\n\tlineProjects = new THREE.Line(geometry.clone(), material);\n\tlineProjects.geometry.vertices = [\n\t\tnew THREE.Vector3(0, 10, 0),\n\t\tnew THREE.Vector3(0, 0, 0)\n\t];\n\n\tscene.add(lineServices);\n\tscene.add(lineContacts);\n\tscene.add(lineAbout);\n\tscene.add(lineProjects);\n}\n","function menu () {\n\tlet $aboutBtn = $('.js-about') || {};\n\tlet $projectsBtn = $('.js-projects') || {};\n\tlet $servicesBtn = $('.js-services') || {};\n\tlet $contactsBtn = $('.js-contacts') || {};\n\tlet delay = 1000;\n\n\t$aboutBtn.on('click tap', () => {\n\t\tconsole.log('about');\n\t\tlet circleNumber = Math.round(mesh.rotation.y / (Math.PI * 2));\n\t\ttargetRotationX = (Math.PI * 2) * circleNumber;\n\t\ttargetRotationY = 0;\n\n\t\tlet data = {\n\t\t\tid: 'about',\n\t\t\ttitle: 'О компании',\n\t\t\ttext: 'Компания сцециализируется на предоставлении комплекса<br> услуг, необходимых для эффективной работы<br> с компаниями Китая',\n\t\t\tlink: \"http://ya.ru\"\n\t\t};\n\n\t\tsetTimeout(() => {\n\t\t\tcancelAnimationFrame(animationLoop);\n\t\t\tmyModal.setData(data).open();\n\t\t}, delay);\n\t});\n\t$projectsBtn.on('click tap', () => {\n\t\tconsole.log('projects');\n\t\ttargetRotationY = 1;\n\n\t\tlet data = {\n\t\t\tid: 'projects',\n\t\t\ttitle: 'Проекты',\n\t\t\ttext: 'Компания сцециализируется на предоставлении комплекса<br> услуг, необходимых для эффективной работы<br> с компаниями Китая',\n\t\t\tlink: \"http://ya.ru\"\n\t\t};\n\t\tsetTimeout(() => {\n\t\t\tcancelAnimationFrame(animationLoop);\n\t\t\tmyModal.setData(data).open();\n\t\t}, delay);\n\t});\n\t$servicesBtn.on('click tap', () => {\n\t\tconsole.log('services');\n\t\tlet circleNumber = Math.round(mesh.rotation.y / (Math.PI * 2));\n\t\ttargetRotationX = (Math.PI * 2) * circleNumber + Math.PI;\n\t\ttargetRotationY = 0;\n\n\t\tlet data = {\n\t\t\tid: 'services',\n\t\t\ttitle: 'Услуги',\n\t\t\ttext: 'Компания сцециализируется на предоставлении комплекса<br> услуг, необходимых для эффективной работы<br> с компаниями Китая',\n\t\t\tlink: \"http://ya.ru\"\n\t\t};\n\t\tsetTimeout(() => {\n\t\t\tcancelAnimationFrame(animationLoop);\n\t\t\tmyModal.setData(data).open();\n\t\t}, delay);\n\t});\n\t$contactsBtn.on('click tap', () => {\n\t\tconsole.log('contacts');\n\t\ttargetRotationY = -0.5;\n\n\t\tlet data = {\n\t\t\tid: 'contacts',\n\t\t\ttitle: 'Контакты',\n\t\t\ttext: 'Компания сцециализируется на предоставлении комплекса<br> услуг, необходимых для эффективной работы<br> с компаниями Китая',\n\t\t\tlink: \"http://ya.ru\"\n\t\t};\n\t\tsetTimeout(() => {\n\t\t\tcancelAnimationFrame(animationLoop);\n\t\t\tmyModal.setData(data).open();\n\t\t}, delay);\n\t});\n}\n","class Modal {\n\tconstructor() {\n\t\tthis.data = this.data || {};\n\t}\n\tsetData(data) {\n\t\tthis.data = data;\n\t\treturn this;\n\t}\n\topen() {\n\t\tlet $body = $('body');\n\t\tthis.template = `\n<div id=\"${this.data.id}\" class=\"modal js-modal animated fadeIn\">\n\t<!-- Modal -->\n\t<h2 class=\"modal__title\">\n\t\t${this.data.title}\n\t</h2>\n\t<p class=\"modal__text\">\n\t\t${this.data.text}\n\t</p>\n\t<a href=\"${this.data.link}\" class=\"btn btn_red btn_upper\">\n\t\t<span class=\"btn__text\">\n\t\t\tПодробнее\n\t\t</span>\n\t</a>\n</div>\n<div class=\"animated fadeIn overlay js-overlay\"></div>\n`;\n\t\tif (!$body.find('#' + this.data.id).length) {\n\t\t\tthis.destroy();\n\t\t\t$body.append(this.template);\n\t\t\tthis.$overlay = $('.js-overlay');\n\t\t\tthis.$modal = $('.js-modal');\n\t\t\tthis.$overlay.on('click tap', () => {\n\t\t\t\tthis.close();\n\t\t\t});\n\t\t}\n\t\treturn this;\n\t}\n\tclose() {\n\t\tthis.$modal.addClass('fadeOut');\n\t\tthis.$overlay.addClass('fadeOut');\n\t\tanimate();\n\n\t\tsetTimeout(() => {\n\t\t\tthis.destroy();\n\t\t}, 1000);\n\t}\n\tdestroy() {\n\t\tif (this.$overlay && this.$modal) {\n\t\t\tthis.$overlay.off('click tap');\n\t\t\tthis.$overlay.remove();\n\t\t\tthis.$modal.remove();\n\t\t\tthis.data = {};\n\t\t}\n\t}\n};\n\nmyModal = new Modal();\n","class BrainModel {\n\tconstructor() {\n\t\tthis.imageLoader = new THREE.ImageLoader();\n\t\tthis.XHRLoader = new THREE.XHRLoader();\n\t\tthis.jsonUrl = 'models/lite-brain-4.json';\n\t\tthis.loadedImages = [];\n\t\tthis.loadImages();\n\t}\n\tloadImages() {\n\t\tlet promiseArray = [],\n\t\t\tpath = 'models/textures/';\n\n\t\tlet texturesList = [{\n\t\t\turl: '1_Base_Color.jpg',\n\t\t\tname: '1_Base_Color'\n\t\t}, {\n\t\t\turl: '1_Metallic.jpg',\n\t\t\tname: '1_Metallic'\n\t\t}, {\n\t\t\turl: '1_Mixed_AO.jpg',\n\t\t\tname: '1_Mixed_AO'\n\t\t}, {\n\t\t\turl: '1_Normal_OpenGL.jpg',\n\t\t\tname: '1_Normal_OpenGL'\n\t\t}, {\n\t\t\turl: '1_Roughness.jpg',\n\t\t\tname: '1_Roughness'\n\t\t}, {\n\t\t\turl: '2_Base_Color.jpg',\n\t\t\tname: '2_Base_Color'\n\t\t}, {\n\t\t\turl: '2_Metallic.jpg',\n\t\t\tname: '2_Metallic'\n\t\t}, {\n\t\t\turl: '2_Mixed_AO.jpg',\n\t\t\tname: '2_Mixed_AO'\n\t\t}, {\n\t\t\turl: '2_Normal_OpenGL.jpg',\n\t\t\tname: '2_Normal_OpenGL'\n\t\t}, {\n\t\t\turl: '2_Roughness.jpg',\n\t\t\tname: '2_Roughness'\n\t\t}, {\n\t\t\turl: '3_Base_Color.jpg',\n\t\t\tname: '3_Base_Color'\n\t\t}, {\n\t\t\turl: '3_Metallic.jpg',\n\t\t\tname: '3_Metallic'\n\t\t}, {\n\t\t\turl: '3_Mixed_AO.jpg',\n\t\t\tname: '3_Mixed_AO'\n\t\t}, {\n\t\t\turl: '3_Normal_OpenGL.jpg',\n\t\t\tname: '3_Normal_OpenGL'\n\t\t}, {\n\t\t\turl: '4_Base_Color.jpg',\n\t\t\tname: '4_Base_Color'\n\t\t}, {\n\t\t\turl: '4_Mixed_AO.jpg',\n\t\t\tname: '4_Mixed_AO'\n\t\t}, {\n\t\t\turl: '4_Normal_OpenGL.jpg',\n\t\t\tname: '4_Normal_OpenGL'\n\t\t}, {\n\t\t\turl: 'emission_black.jpg',\n\t\t\tname: 'emission_black'\n\t\t}, {\n\t\t\turl: 'environment.png',\n\t\t\tname: 'environment'\n\t\t}, {\n\t\t\turl: 'flame_alpha.jpg',\n\t\t\tname: 'flame_alpha'\n\t\t}, {\n\t\t\turl: 'flame_color.jpg',\n\t\t\tname: 'flame_color'\n\t\t}, {\n\t\t\turl: 'gears_Base_Color.jpg',\n\t\t\tname: 'gears_Base_Color'\n\t\t}, {\n\t\t\turl: 'gears_Height.jpg',\n\t\t\tname: 'gears_Height'\n\t\t}, {\n\t\t\turl: 'gears_Metallic.jpg',\n\t\t\tname: 'gears_Metallic'\n\t\t}, {\n\t\t\turl: 'gears_Normal_OpenGL.jpg',\n\t\t\tname: 'gears_Normal_OpenGL'\n\t\t}, {\n\t\t\turl: 'gears_Roughness.jpg',\n\t\t\tname: 'gears_Roughness'\n\t\t}, {\n\t\t\turl: 'glass_alpha.jpg',\n\t\t\tname: 'glass_alpha'\n\t\t}, {\n\t\t\turl: 'glass_metallic.jpg',\n\t\t\tname: 'glass_metallic'\n\t\t}];\n\n\t\ttexturesList.forEach((item, index) => {\n\t\t\tpromiseArray.push(new Promise((resolve, reject) => {\n\t\t\t\tthis.imageLoader.load(\n\t\t\t\t\tpath + item.url,\n\t\t\t\t\t(image) => {\n\t\t\t\t\t\tthis.loadedImages[item.name] = image;\n\t\t\t\t\t\tresolve(image);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}));\n\t\t});\n\n\t\tPromise.all(promiseArray).then((res) => {\n\t\t\tthis.loadScene();\n\t\t}, (err) => {\n\t\t\tconsole.log(err);\n\t\t});\n\n\t}\n\tloadScene() {\n\t\tlet XHRLoader = new THREE.XHRLoader();\n\t\tlet jsonUrl = this.jsonUrl;\n\n\t\tXHRLoader.load(jsonUrl, (text) => {\n\t\t\thideSpinner();\n\t\t\tlet json = JSON.parse(text);\n\t\t\tlet loader = new THREE.ObjectLoader();\n\n\t\t\tscene = loader.parse(json.scene);\n\n\t\t\tlet mainGroup = scene.children[1];\n\t\t\tthis.brainGroup = mainGroup.children[0];\n\t\t\tthis.gearsGroup = mainGroup.children[1].children;\n\t\t\tthis.flames = mainGroup.children[2];\n\t\t\tthis.flames.children[0].material.opacity = 0;\n\t\t\tthis.flames.children[1].material.opacity = 0;\n\t\t\tthis.flames.children[2].material.opacity = 0;\n\t\t\tthis.flames.children[3].material.opacity = 0;\n\t\t\tthis.flames.children[4].material.opacity = 0;\n\t\t\tthis.flames.children[5].material.opacity = 0;\n\t\t\tthis.flames.children[6].material.opacity = 0;\n\n\t\t\tthis.brain = [];\n\n\t\t\tfor (let i = 0; i < this.brainGroup.children.length; i++) {\n\t\t\t\tthis.brain.push(this.brainGroup.children[i]);\n\t\t\t}\n\n\t\t\t// Update material for flames\n\t\t\tfor (let i = 0; i < this.flames.children.length; i++) {\n\t\t\t\tthis.flames.children[0].material.map.image = this.loadedImages['flame_color'];\n\t\t\t\tthis.flames.children[0].material.alphaMap.image = this.loadedImages['flame_alpha'];\n\t\t\t}\n\n\t\t\t// Gear 0\n\t\t\tthis.gearsGroup[0].material.map.image = this.loadedImages['gears_Base_Color'];\n\t\t\tthis.gearsGroup[0].material.normalMap.image = this.loadedImages['gears_Normal_OpenGL'];\n\t\t\tthis.gearsGroup[0].material.roughnessMap.image = this.loadedImages['gears_Roughness'];\n\t\t\tthis.gearsGroup[0].material.metalnessMap.image = this.loadedImages['gears_Metallic'];\n\t\t\tthis.gearsGroup[0].material.envMap.image = this.loadedImages['environment'];\n\t\t\tthis.gearsGroup[0].material.emissiveMap.image = this.loadedImages['emission_black'];\n\n\t\t\t// Glass\n\t\t\tthis.gearsGroup[6].material.alphaMap.image = this.loadedImages['glass_alpha'];\n\t\t\tthis.gearsGroup[6].material.metalnessMap.image = this.loadedImages['glass_metallic'];\n\t\t\tthis.gearsGroup[6].material.envMap.image = this.loadedImages['environment'];\n\n\t\t\t// Brain 1\n\t\t\t// o-brain-1\n\t\t\tthis.brain[0].material.map.image = this.loadedImages['1_Base_Color'];\n\t\t\tthis.brain[0].material.normalMap.image = this.loadedImages['1_Normal_OpenGL'];\n\t\t\tthis.brain[0].material.roughnessMap.image = this.loadedImages['1_Roughness'];\n\t\t\tthis.brain[0].material.metalnessMap.image = this.loadedImages['1_Metallic'];\n\t\t\tthis.brain[0].material.envMap.image = this.loadedImages['environment'];\n\t\t\tthis.brain[0].material.emissiveMap.image = this.loadedImages['1_Mixed_AO'];\n\t\t\tthis.brain[0].material.emissiveIntensity = 0;\n\n\t\t\t// Brain 2\n\t\t\t// o-brain-2\n\t\t\tthis.brain[1].material.map.image = this.loadedImages['1_Base_Color'];\n\t\t\tthis.brain[1].material.normalMap.image = this.loadedImages['1_Normal_OpenGL'];\n\t\t\tthis.brain[1].material.roughnessMap.image = this.loadedImages['1_Roughness'];\n\t\t\tthis.brain[1].material.metalnessMap.image = this.loadedImages['1_Metallic'];\n\t\t\tthis.brain[1].material.envMap.image = this.loadedImages['environment'];\n\t\t\tthis.brain[1].material.emissiveMap.image = this.loadedImages['1_Mixed_AO'];\n\t\t\tthis.brain[1].material.emissiveIntensity = 0;\n\n\t\t\t// Brain 3\n\t\t\t// o-brain-3\n\t\t\tthis.brain[2].material.map.image = this.loadedImages['2_Base_Color'];\n\t\t\tthis.brain[2].material.normalMap.image = this.loadedImages['2_Normal_OpenGL'];\n\t\t\tthis.brain[2].material.envMap.image = this.loadedImages['environment'];\n\t\t\tthis.brain[2].material.emissiveMap.image = this.loadedImages['2_Mixed_AO'];\n\t\t\tthis.brain[2].material.emissiveIntensity = 0;\n\n\t\t\t// Brain 4\n\t\t\t// o-brain-4\n\t\t\tthis.brain[3].material.map.image = this.loadedImages['2_Base_Color'];\n\t\t\tthis.brain[3].material.normalMap.image = this.loadedImages['2_Normal_OpenGL'];\n\t\t\tthis.brain[3].material.envMap.image = this.loadedImages['environment'];\n\t\t\tthis.brain[3].material.emissiveMap.image = this.loadedImages['2_Mixed_AO'];\n\t\t\tthis.brain[3].material.emissiveIntensity = 0;\n\n\t\t\t// Brain 5\n\t\t\t// o-brain-5_1\n\t\t\tthis.brain[4].material.map.image = this.loadedImages['1_Base_Color'];\n\t\t\tthis.brain[4].material.normalMap.image = this.loadedImages['1_Normal_OpenGL'];\n\t\t\tthis.brain[4].material.roughnessMap.image = this.loadedImages['1_Roughness'];\n\t\t\tthis.brain[4].material.metalnessMap.image = this.loadedImages['1_Metallic'];\n\t\t\tthis.brain[4].material.envMap.image = this.loadedImages['environment'];\n\t\t\tthis.brain[4].material.emissiveMap.image = this.loadedImages['1_Mixed_AO'];\n\t\t\tthis.brain[4].material.emissiveIntensity = 0;\n\n\t\t\t// Brain 6\n\t\t\t// o-brain-5_2\n\t\t\tthis.brain[5].material.map.image = this.loadedImages['3_Base_Color'];\n\t\t\tthis.brain[5].material.normalMap.image = this.loadedImages['3_Normal_OpenGL'];\n\t\t\tthis.brain[5].material.metalnessMap.image = this.loadedImages['3_Metallic'];\n\t\t\tthis.brain[5].material.envMap.image = this.loadedImages['environment'];\n\t\t\tthis.brain[5].material.emissiveMap.image = this.loadedImages['3_Mixed_AO'];\n\t\t\tthis.brain[5].material.emissiveIntensity = 0;\n\n\t\t\t// Brain 7\n\t\t\t// o-brain-6_1\n\t\t\tthis.brain[6].material.map.image = this.loadedImages['1_Base_Color'];\n\t\t\tthis.brain[6].material.normalMap.image = this.loadedImages['1_Normal_OpenGL'];\n\t\t\tthis.brain[6].material.roughnessMap.image = this.loadedImages['1_Roughness'];\n\t\t\tthis.brain[6].material.metalnessMap.image = this.loadedImages['1_Metallic'];\n\t\t\tthis.brain[6].material.envMap.image = this.loadedImages['environment'];\n\t\t\tthis.brain[6].material.emissiveMap.image = this.loadedImages['1_Mixed_AO'];\n\t\t\tthis.brain[6].material.emissiveIntensity = 0;\n\n\t\t\t// Brain 8\n\t\t\t// o-brain-6_2\n\t\t\tthis.brain[7].material.map.image = this.loadedImages['3_Base_Color'];\n\t\t\tthis.brain[7].material.normalMap.image = this.loadedImages['3_Normal_OpenGL'];\n\t\t\tthis.brain[7].material.metalnessMap.image = this.loadedImages['3_Metallic'];\n\t\t\tthis.brain[7].material.envMap.image = this.loadedImages['environment'];\n\t\t\tthis.brain[7].material.emissiveMap.image = this.loadedImages['3_Mixed_AO'];\n\t\t\tthis.brain[7].material.emissiveIntensity = 0;\n\n\t\t\t// Brain 9\n\t\t\t// o-brain-7\n\t\t\tthis.brain[8].material.map.image = this.loadedImages['4_Base_Color'];\n\t\t\tthis.brain[8].material.normalMap.image = this.loadedImages['4_Normal_OpenGL'];\n\t\t\tthis.brain[8].material.emissiveMap.image = this.loadedImages['4_Mixed_AO'];\n\t\t\tthis.brain[8].material.emissiveIntensity = 0;\n\n\t\t\tcameraInit();\n\n\t\t\tmesh = scene.children[1];\n\t\t\tmesh.rotation.z = 0.1;\n\t\t\tmesh.rotation.y = 2;\n\t\t\tmesh.rotation.x = 1;\n\t\t\tmesh.position.y = 1.5;\n\t\t});\n\t}\n}\n\nvar brainModel = new BrainModel();\n","function fadeIn(obj, attr, min = 0, max = 2) {\n    let params = {};\n    if (obj.material[attr] !== max) {\n        params.intense = min;\n    } else {\n        params.intense = max;\n    }\n\n    TweenMax.to(params, fadeTime, {\n        intense: max,\n        ease: Power1.easeOut,\n        onUpdate: function() {\n            obj.material[attr] = params.intense;\n        }\n    });\n}\n\nfunction fadeOut(obj, attr, min = 0, max = 2) {\n    let params = {};\n    if (obj.material[attr] !== min) {\n        params.intense = max;\n    } else {\n        params.intense = min;\n    }\n\n    TweenMax.to(params, fadeTime, {\n        intense: min,\n        ease: Power1.easeOut,\n        onUpdate: function() {\n            obj.material[attr] = params.intense;\n        }\n    });\n}\n\nfunction flamePulsing(obj) {\n    let params = {\n        offset: 0,\n        opacity: 1\n    };\n\n    TweenMax.to(params, 7, {\n        offset: 0.2,\n        ease: Power1.easeInOut,\n        repeat: -1,\n        yoyo: true,\n        onUpdate: function() {\n            obj.material.map.offset.x = params.offset;\n        }\n    });\n\n    /*TweenMax.to(params, 10, {\n        opacity: 0.3,\n        ease: RoughEase.ease.config({\n            template: Power0.easeNone,\n            strength: 1,\n            points: 20,\n            taper: 'none',\n            randomize: true,\n            clamp: false\n        }),\n        repeat: -1,\n        yoyo: true,\n        onUpdate: function () {\n            obj.material.opacity = params.opacity;\n        }\n    });*/\n}\n\nfunction mouseHover() {\n    if (scene) {\n        camera.updateMatrixWorld();\n\n        // find intersections\n        raycaster.setFromCamera(mouse, camera);\n\n        var intersects = raycaster.intersectObjects(brainModel.brainGroup.children, true);\n\n        if (intersects.length > 0) {\n\n            if (INTERSECTED != intersects[0].object) {\n                if (INTERSECTED) {\n                    // To reset after changing hover object\n                    if (!INTERSECTED.selected) {\n                        fadeOut(INTERSECTED, 'emissiveIntensity');\n                        // Balls reset\n                        if (INTERSECTED.name === 'o-brain-5_1' || INTERSECTED.name === 'o-brain-5_2') {\n                            fadeOut(brainModel.brain[4], 'emissiveIntensity', minIntense, maxIntense);\n                            fadeOut(brainModel.brain[5], 'emissiveIntensity', minIntense, maxIntense);\n                        }\n                        if (INTERSECTED.name === 'o-brain-6_1' || INTERSECTED.name === 'o-brain-6_2') {\n                            fadeOut(brainModel.brain[6], 'emissiveIntensity', minIntense, maxIntense);\n                            fadeOut(brainModel.brain[7], 'emissiveIntensity', minIntense, maxIntense);\n                        }\n                    }\n                    isHover = false;\n                    currentPart = null;\n                }\n\n                INTERSECTED = intersects[0].object;\n                // Balls union\n                if (INTERSECTED.name === 'o-brain-5_1' || INTERSECTED.name === 'o-brain-5_2') {\n                    fadeIn(brainModel.brain[4], 'emissiveIntensity', minIntense, maxIntense);\n                    fadeIn(brainModel.brain[5], 'emissiveIntensity', minIntense, maxIntense);\n                }\n                if (INTERSECTED.name === 'o-brain-6_1' || INTERSECTED.name === 'o-brain-6_2') {\n                    fadeIn(brainModel.brain[6], 'emissiveIntensity', minIntense, maxIntense);\n                    fadeIn(brainModel.brain[7], 'emissiveIntensity', minIntense, maxIntense);\n                }\n                currentPart = INTERSECTED.name;\n                if (INTERSECTED.material.emissiveIntensity !== maxIntense) {\n                    fadeIn(INTERSECTED, 'emissiveIntensity', minIntense, maxIntense);\n                }\n                isHover = true;\n            }\n\n        } else {\n            if (INTERSECTED) {\n                if (!INTERSECTED.selected) {\n                    fadeOut(INTERSECTED, 'emissiveIntensity');\n                    // Balls reset\n                    if (INTERSECTED.name === 'o-brain-5_1' || INTERSECTED.name === 'o-brain-5_2') {\n                        fadeOut(brainModel.brain[4], 'emissiveIntensity', minIntense, maxIntense);\n                        fadeOut(brainModel.brain[5], 'emissiveIntensity', minIntense, maxIntense);\n                    }\n                    if (INTERSECTED.name === 'o-brain-6_1' || INTERSECTED.name === 'o-brain-6_2') {\n                        fadeOut(brainModel.brain[6], 'emissiveIntensity', minIntense, maxIntense);\n                        fadeOut(brainModel.brain[7], 'emissiveIntensity', minIntense, maxIntense);\n                    }\n                }\n                isHover = false;\n                currentPart = null;\n            }\n            INTERSECTED = null;\n        }\n\n        renderer.render(scene, camera);\n    }\n\n}\n","function render() {\n\tif (mesh) {\n\t\t// G1\n\t\tbrainModel.gearsGroup[0].rotation.z += 0.015 / 4;\n\t\t// G2\n\t\tbrainModel.gearsGroup[1].rotation.z -= 0.05 / 4;\n\t\t// G3\n\t\tbrainModel.gearsGroup[4].rotation.z -= 0.02 / 4;\n\t\t// G4\n\t\tbrainModel.gearsGroup[2].rotation.z += 0.05 / 4;\n\t\t// G5\n\t\tbrainModel.gearsGroup[3].rotation.z -= 0.05 / 4;\n\n\t\tlet prevAngle = mesh.rotation.y;\n\n\t\tmesh.rotation.y += (targetRotationX - mesh.rotation.y) * ROTATION_BOUNCE;\n\n\n\t\tlet prevRot = Math.floor(prevAngle * 100) / 100;\n\t\tlet currentRot = Math.floor(mesh.rotation.y * 100) / 100;\n\t\tif (prevRot === currentRot) {\n\t\t\tisMoving = false;\n\t\t}\n\n\t\tif (isMoving) {\n\t\t\tstopTimer(waitingTimer);\n\t\t\twaitingTimer = waitForPlayer();\n\t\t\tresetSelection();\n\t\t\tresetIntense();\n\t\t\tmyHint.close();\n\t\t}\n\n\t\t// Rotation info\n\t\t$rotationInfoX.textContent = Math.round(mesh.rotation.x * 100) / 100;\n\t\t$rotationInfoY.textContent = Math.round(mesh.rotation.y * 100) / 100;\n\n\t\tif (window.showInfo) {\n\t\t\tdocument.querySelector('.js-info').classList.remove('hide');\n\t\t}\n\n\t\tfinalRotationY = (targetRotationY - mesh.rotation.x);\n\t\tif (mesh.rotation.x <= 1 && mesh.rotation.x >= -1) {\n\t\t\tmesh.rotation.x += finalRotationY * ROTATION_BOUNCE;\n\t\t}\n\t\t// Max\n\t\tif (mesh.rotation.x > 1) {\n\t\t\tmesh.rotation.x = 1;\n\t\t}\n\t\t// Min\n\t\tif (mesh.rotation.x < -0.5) {\n\t\t\tmesh.rotation.x = -0.5;\n\t\t}\n\n\t}\n\n\tif (scene) {\n\t\trenderer.render(scene, camera);\n\t}\n}\n","function hideSpinner() {\n\tvar $spinner = document.getElementsByClassName('js-spinner')[0];\n\t$spinner.className = 'fadeOut';\n}\n"],"sourceRoot":"/source/"}