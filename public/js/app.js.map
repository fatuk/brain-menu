{"version":3,"sources":["animate.js","app.js","callbacks.js","camera.js","light.js","lines.js","loadProgress.js","menu.js","modal.js","model.js","mouseHover.js","render.js"],"names":["animate","animationLoop","requestAnimationFrame","mouseHover","render","camera","scene","renderer","geometry","material","mesh","pivot","spotLight","directLight1","directLight2","ambientLight","lightHelper1","lineServices","lineProjects","lineAbout","projector","INTERSECTED","raycaster","lineContacts","lightHelper2","myModal","currentState","brainTextures","angle","width","window","innerWidth","height","innerHeight","$rotationInfoX","document","getElementsByClassName","$rotationInfoY","targetRotationX","targetRotationOnMouseDownX","targetRotationY","targetRotationOnMouseDownY","mouseX","mouseXOnMouseDown","mouseY","mouseYOnMouseDown","windowHalfX","windowHalfY","finalRotationY","ROTATION_BOUNCE","MOUSE_ROTATION_SPEED","TOUCH_ROTATION_SPEED","mouse","THREE","Vector2","init","Raycaster","WebGLRenderer","alpha","antialias","setSize","sortObjects","container","getElementById","appendChild","domElement","addEventListener","onDocumentMouseDown","onDocumentTouchStart","onDocumentTouchMove","onWindowResize","onDocumentReady","Projector","onMouseHover","menu","aspect","updateProjectionMatrix","event","preventDefault","onDocumentMouseMove","onDocumentMouseUp","onDocumentMouseOut","clientX","clientY","x","y","removeEventListener","touches","length","pageX","pageY","cameraInit","PerspectiveCamera","position","z","add","lightInit","AmbientLight","DirectionalLight","set","DirectionalLightHelper","lines","LineBasicMaterial","color","Geometry","Line","vertices","Vector3","clone","loadProgress","loading","console","log","$progressContainer","total","loaded","loadedPercents","Math","round","textContent","className","$aboutBtn","$","$projectsBtn","$servicesBtn","$contactsBtn","delay","on","circleNumber","rotation","PI","data","id","title","text","link","setTimeout","cancelAnimationFrame","setData","open","Modal","$body","template","find","destroy","append","$overlay","$modal","close","addClass","off","remove","BrainModel","imageLoader","ImageLoader","XHRLoader","jsonUrl","loadedImages","loadImages","promiseArray","path","texturesList","url","name","forEach","item","index","push","Promise","resolve","reject","load","image","all","then","res","loadScene","err","json","JSON","parse","loader","ObjectLoader","mainGroup","children","brainGroup","gearsGroup","flames","visible","brain","i","map","alphaMap","normalMap","roughnessMap","metalnessMap","envMap","emissiveMap","emissiveIntensity","brainModel","updateMatrixWorld","setFromCamera","intersects","intersectObjects","object"],"mappings":"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","file":"app.js","sourcesContent":["function animate() {\n\tanimationLoop = requestAnimationFrame(animate);\n\tmouseHover();\n\trender();\n}\n","let camera,\n\tscene,\n\trenderer,\n\tgeometry,\n\tmaterial,\n\tmesh,\n\tpivot,\n\tspotLight,\n\tdirectLight1,\n\tdirectLight2,\n\tambientLight,\n\tlightHelper1,\n\tlineServices,\n\tlineProjects,\n\tlineAbout,\n\tprojector,\n\tINTERSECTED,\n\traycaster,\n\tlineContacts,\n\tanimationLoop,\n\tlightHelper2,\n\tmyModal;\n\nlet currentState = 'about';\n// Texture images\nlet brainTextures = {};\n\nlet angle = 0;\nlet width = window.innerWidth;\nlet height = window.innerHeight;\n\nlet $rotationInfoX = document.getElementsByClassName('js-rotationX')[0];\nlet $rotationInfoY = document.getElementsByClassName('js-rotationY')[0];\n\nlet targetRotationX = 0;\nlet targetRotationOnMouseDownX = 0;\n\nlet targetRotationY = 0;\nlet targetRotationOnMouseDownY = 0;\n\nlet mouseX = 0;\nlet mouseXOnMouseDown = 0;\n\nlet mouseY = 0;\nlet mouseYOnMouseDown = 0;\n\nlet windowHalfX = window.innerWidth / 2;\nlet windowHalfY = window.innerHeight / 2;\n\nlet finalRotationY;\nconst ROTATION_BOUNCE = 0.05;\nconst MOUSE_ROTATION_SPEED = 0.008;\nconst TOUCH_ROTATION_SPEED = 0.008;\n\nlet mouse = new THREE.Vector2(); // create once\n\ninit();\nanimate();\n\nfunction init() {\n\t// scene = new THREE.Scene();\n\n\t// lightInit();\n\traycaster = new THREE.Raycaster(); // create once\n\t// modelInit();\n\t// mouseHover();\n\n\t// lines();\n\n\trenderer = new THREE.WebGLRenderer({\n\t\talpha: true,\n\t\tantialias: false\n\t});\n\trenderer.setSize(window.innerWidth, window.innerHeight);\n\trenderer.sortObjects = false;\n\n\tlet container = document.getElementById('brain');\n\tcontainer.appendChild(renderer.domElement);\n\n\tdocument.addEventListener('mousedown', onDocumentMouseDown, false);\n\tdocument.addEventListener('touchstart', onDocumentTouchStart, false);\n\tdocument.addEventListener('touchmove', onDocumentTouchMove, false);\n\twindow.addEventListener('resize', onWindowResize, false);\n\tdocument.addEventListener('DOMContentLoaded', onDocumentReady);\n\n\t// initialize object to perform world/screen calculations\n\tprojector = new THREE.Projector();\n\n\t// when the mouse moves, call the given function\n\tdocument.addEventListener('mousemove', onMouseHover, false);\n\n}\n","function onDocumentReady () {\n\tmenu();\n}\n\nfunction onWindowResize() {\n\twidth = window.innerWidth;\n\theight = window.innerHeight;\n\twindowHalfX = width / 2;\n\twindowHalfY = height / 2;\n\tcamera.aspect = width / height;\n\tcamera.updateProjectionMatrix();\n\trenderer.setSize(width, height);\n}\n\nfunction onDocumentMouseDown(event) {\n\tevent.preventDefault();\n\tdocument.addEventListener('mousemove', onDocumentMouseMove, false);\n\tdocument.addEventListener('mouseup', onDocumentMouseUp, false);\n\tdocument.addEventListener('mouseout', onDocumentMouseOut, false);\n\tmouseXOnMouseDown = event.clientX - windowHalfX;\n\ttargetRotationOnMouseDownX = targetRotationX;\n\tmouseYOnMouseDown = event.clientY - windowHalfY;\n\ttargetRotationOnMouseDownY = targetRotationY;\n}\n\nfunction onMouseHover (event) {\n\tevent.preventDefault();\n\tmouse.x = ( event.clientX / window.innerWidth ) * 2 - 1;\n\tmouse.y = - ( event.clientY / window.innerHeight ) * 2 + 1;\n}\n\nfunction onDocumentMouseMove(event) {\n\tmouseX = event.clientX - windowHalfX;\n\tmouseY = event.clientY - windowHalfY;\n\ttargetRotationY = targetRotationOnMouseDownY + (mouseY - mouseYOnMouseDown) * MOUSE_ROTATION_SPEED;\n\ttargetRotationX = targetRotationOnMouseDownX + (mouseX - mouseXOnMouseDown) * MOUSE_ROTATION_SPEED;\n}\n\nfunction onDocumentMouseUp(event) {\n\tdocument.removeEventListener('mousemove', onDocumentMouseMove, false);\n\tdocument.removeEventListener('mouseup', onDocumentMouseUp, false);\n\tdocument.removeEventListener('mouseout', onDocumentMouseOut, false);\n}\n\nfunction onDocumentMouseOut(event) {\n\tdocument.removeEventListener('mousemove', onDocumentMouseMove, false);\n\tdocument.removeEventListener('mouseup', onDocumentMouseUp, false);\n\tdocument.removeEventListener('mouseout', onDocumentMouseOut, false);\n}\n\nfunction onDocumentTouchStart(event) {\n\tif (event.touches.length == 1) {\n\t\tevent.preventDefault();\n\t\tmouseXOnMouseDown = event.touches[0].pageX - windowHalfX;\n\t\ttargetRotationOnMouseDownX = targetRotationX;\n\t\tmouseYOnMouseDown = event.touches[0].pageY - windowHalfY;\n\t\ttargetRotationOnMouseDownY = targetRotationY;\n\t}\n}\n\nfunction onDocumentTouchMove(event) {\n\tif (event.touches.length == 1) {\n\t\tevent.preventDefault();\n\t\tmouseX = event.touches[0].pageX - windowHalfX;\n\t\ttargetRotationX = targetRotationOnMouseDownX + (mouseX - mouseXOnMouseDown) * TOUCH_ROTATION_SPEED;\n\t\tmouseY = event.touches[0].pageY - windowHalfY;\n\t\ttargetRotationY = targetRotationOnMouseDownY + (mouseY - mouseYOnMouseDown) * TOUCH_ROTATION_SPEED;\n\t}\n}\n","function cameraInit() {\n\tcamera = new THREE.PerspectiveCamera(50, width / height, 0.1, 10000);\n\tcamera.position.x = -0.26;\n\tcamera.position.y = 1;\n\tcamera.position.z = 10.85;\n\tscene.add(camera);\n}\n","function lightInit () {\n\t// Ambient light\n\tambientLight = new THREE.AmbientLight(0xffffff, 0.3);\n\t// Spotlight\n\tdirectLight1 = new THREE.DirectionalLight(0xffffff, 2);\n\tdirectLight2 = new THREE.DirectionalLight(0xffffff);\n\tdirectLight1.position.set(5, 10, 7.5);\n\tdirectLight2.position.set(5, 10, -7.5);\n\t// Light helper\n\tlightHelper1 = new THREE.DirectionalLightHelper(directLight1);\n\tlightHelper2 = new THREE.DirectionalLightHelper(directLight2);\n\tscene.add(ambientLight);\n\tscene.add(directLight1);\n\t// scene.add(directLight2);\n\t// scene.add(lightHelper1);\n\t// scene.add(lightHelper2);\n}\n","function lines() {\n\tvar material = new THREE.LineBasicMaterial({\n\t\tcolor: 0x8e7f78\n\t});\n\n\tvar geometry = new THREE.Geometry();\n/*\tgeometry.vertices.push(\n\t\tnew THREE.Vector3(-10, 1, 0),\n\t\tnew THREE.Vector3(0, 0, 0)\n\t);*/\n\n\tlineServices = new THREE.Line(geometry, material);\n\tlineServices.geometry.vertices = [\n\t\tnew THREE.Vector3(-10, 1, 0),\n\t\tnew THREE.Vector3(0, 0, 0)\n\t];\n\n\tlineContacts = new THREE.Line(geometry.clone(), material);\n\tlineContacts.geometry.vertices = [\n\t\t// new THREE.Vector3(0, -10, 0),\n\t\tnew THREE.Vector3(0, -10, 0),\n\t\tnew THREE.Vector3(0, 0, 0)\n\t];\n\n\tlineAbout = new THREE.Line(geometry.clone(), material);\n\tlineAbout.geometry.vertices = [\n\t\tnew THREE.Vector3(10, 0, 0),\n\t\tnew THREE.Vector3(0, 0, 0)\n\t];\n\n\tlineProjects = new THREE.Line(geometry.clone(), material);\n\tlineProjects.geometry.vertices = [\n\t\tnew THREE.Vector3(0, 10, 0),\n\t\tnew THREE.Vector3(0, 0, 0)\n\t];\n\n\tscene.add(lineServices);\n\tscene.add(lineContacts);\n\tscene.add(lineAbout);\n\tscene.add(lineProjects);\n}\n","function loadProgress (loading) {\n\n\tconsole.log(loading);\n\n\tlet $progressContainer = document.getElementsByClassName('js-loader')[0];\n\tlet total = loading.total;\n\tlet loaded = loading.loaded;\n\tlet loadedPercents = Math.round(loaded/total*100);\n\n\t$progressContainer.textContent = `${loadedPercents} %`;\n\n\tif (loadedPercents === 100) {\n\t\t$progressContainer.className = 'hide';\n\t}\n}\n","function menu () {\n\tlet $aboutBtn = $('.js-about') || {};\n\tlet $projectsBtn = $('.js-projects') || {};\n\tlet $servicesBtn = $('.js-services') || {};\n\tlet $contactsBtn = $('.js-contacts') || {};\n\tlet delay = 1000;\n\n\t$aboutBtn.on('click tap', () => {\n\t\tconsole.log('about');\n\t\tlet circleNumber = Math.round(mesh.rotation.y / (Math.PI * 2));\n\t\ttargetRotationX = (Math.PI * 2) * circleNumber;\n\t\ttargetRotationY = 0;\n\n\t\tlet data = {\n\t\t\tid: 'about',\n\t\t\ttitle: 'О компании',\n\t\t\ttext: 'Компания сцециализируется на предоставлении комплекса<br> услуг, необходимых для эффективной работы<br> с компаниями Китая',\n\t\t\tlink: \"#\"\n\t\t};\n\n\t\tsetTimeout(() => {\n\t\t\tcancelAnimationFrame(animationLoop);\n\t\t\tmyModal.setData(data).open();\n\t\t}, delay);\n\t});\n\t$projectsBtn.on('click tap', () => {\n\t\tconsole.log('projects');\n\t\ttargetRotationY = 1;\n\n\t\tlet data = {\n\t\t\tid: 'projects',\n\t\t\ttitle: 'Проекты',\n\t\t\ttext: 'Компания сцециализируется на предоставлении комплекса<br> услуг, необходимых для эффективной работы<br> с компаниями Китая',\n\t\t\tlink: \"#\"\n\t\t};\n\t\tsetTimeout(() => {\n\t\t\tcancelAnimationFrame(animationLoop);\n\t\t\tmyModal.setData(data).open();\n\t\t}, delay);\n\t});\n\t$servicesBtn.on('click tap', () => {\n\t\tconsole.log('services');\n\t\tlet circleNumber = Math.round(mesh.rotation.y / (Math.PI * 2));\n\t\ttargetRotationX = (Math.PI * 2) * circleNumber + Math.PI;\n\t\ttargetRotationY = 0;\n\n\t\tlet data = {\n\t\t\tid: 'services',\n\t\t\ttitle: 'Услуги',\n\t\t\ttext: 'Компания сцециализируется на предоставлении комплекса<br> услуг, необходимых для эффективной работы<br> с компаниями Китая',\n\t\t\tlink: \"#\"\n\t\t};\n\t\tsetTimeout(() => {\n\t\t\tcancelAnimationFrame(animationLoop);\n\t\t\tmyModal.setData(data).open();\n\t\t}, delay);\n\t});\n\t$contactsBtn.on('click tap', () => {\n\t\tconsole.log('contacts');\n\t\ttargetRotationY = -0.5;\n\n\t\tlet data = {\n\t\t\tid: 'contacts',\n\t\t\ttitle: 'Контакты',\n\t\t\ttext: 'Компания сцециализируется на предоставлении комплекса<br> услуг, необходимых для эффективной работы<br> с компаниями Китая',\n\t\t\tlink: \"#\"\n\t\t};\n\t\tsetTimeout(() => {\n\t\t\tcancelAnimationFrame(animationLoop);\n\t\t\tmyModal.setData(data).open();\n\t\t}, delay);\n\t});\n}\n","class Modal {\n\tconstructor() {\n\t\tthis.data = this.data || {};\n\t}\n\tsetData(data) {\n\t\tthis.data = data;\n\t\treturn this;\n\t}\n\topen() {\n\t\tlet $body = $('body');\n\t\tthis.template = `\n<div id=\"${this.data.id}\" class=\"modal js-modal animated fadeIn\">\n\t<!-- Modal -->\n\t<h2 class=\"modal__title\">\n\t\t${this.data.title}\n\t</h2>\n\t<p class=\"modal__text\">\n\t\t${this.data.text}\n\t</p>\n\t<a href=\"${this.data.link}\" class=\"btn btn_red btn_upper\">\n\t\t<span class=\"btn__text\">\n\t\t\tПодробнее\n\t\t</span>\n\t</a>\n</div>\n<div class=\"animated fadeIn overlay js-overlay\"></div>\n`;\n\t\tif (!$body.find('#' + this.data.id).length) {\n\t\t\tthis.destroy();\n\t\t\t$body.append(this.template);\n\t\t\tthis.$overlay = $('.js-overlay');\n\t\t\tthis.$modal = $('.js-modal');\n\t\t\tthis.$overlay.on('click tap', () => {\n\t\t\t\tthis.close();\n\t\t\t});\n\t\t}\n\t\treturn this;\n\t}\n\tclose() {\n\t\tthis.$modal.addClass('fadeOut');\n\t\tthis.$overlay.addClass('fadeOut');\n\t\tanimate();\n\n\t\tsetTimeout(() => {\n\t\t\tthis.destroy();\n\t\t}, 1000);\n\t}\n\tdestroy() {\n\t\tif (this.$overlay && this.$modal) {\n\t\t\tthis.$overlay.off('click tap');\n\t\t\tthis.$overlay.remove();\n\t\t\tthis.$modal.remove();\n\t\t\tthis.data = {};\n\t\t}\n\t}\n};\n\nmyModal = new Modal();\n","class BrainModel {\n\tconstructor() {\n\t\tthis.imageLoader = new THREE.ImageLoader();\n\t\tthis.XHRLoader = new THREE.XHRLoader();\n\t\tthis.jsonUrl = 'models/lite-brain-3.json';\n\t\tthis.loadedImages = [];\n\t\tthis.loadImages();\n\t}\n\tloadImages() {\n\t\tlet promiseArray = [],\n\t\t\tpath = 'models/textures/';\n\n\t\tlet texturesList = [{\n\t\t\turl: '1_Base_Color.jpg',\n\t\t\tname: '1_Base_Color'\n\t\t}, {\n\t\t\turl: '1_Metallic.jpg',\n\t\t\tname: '1_Metallic'\n\t\t}, {\n\t\t\turl: '1_Mixed_AO.jpg',\n\t\t\tname: '1_Mixed_AO'\n\t\t}, {\n\t\t\turl: '1_Normal_OpenGL.jpg',\n\t\t\tname: '1_Normal_OpenGL'\n\t\t}, {\n\t\t\turl: '1_Roughness.jpg',\n\t\t\tname: '1_Roughness'\n\t\t}, {\n\t\t\turl: '2_Base_Color.jpg',\n\t\t\tname: '2_Base_Color'\n\t\t}, {\n\t\t\turl: '2_Metallic.jpg',\n\t\t\tname: '2_Metallic'\n\t\t}, {\n\t\t\turl: '2_Mixed_AO.jpg',\n\t\t\tname: '2_Mixed_AO'\n\t\t}, {\n\t\t\turl: '2_Normal_OpenGL.jpg',\n\t\t\tname: '2_Normal_OpenGL'\n\t\t}, {\n\t\t\turl: '2_Roughness.jpg',\n\t\t\tname: '2_Roughness'\n\t\t}, {\n\t\t\turl: '3_Base_Color.jpg',\n\t\t\tname: '3_Base_Color'\n\t\t}, {\n\t\t\turl: '3_Metallic.jpg',\n\t\t\tname: '3_Metallic'\n\t\t}, {\n\t\t\turl: '3_Mixed_AO.jpg',\n\t\t\tname: '3_Mixed_AO'\n\t\t}, {\n\t\t\turl: '3_Normal_OpenGL.jpg',\n\t\t\tname: '3_Normal_OpenGL'\n\t\t}, {\n\t\t\turl: '4_Base_Color.jpg',\n\t\t\tname: '4_Base_Color'\n\t\t}, {\n\t\t\turl: '4_Mixed_AO.jpg',\n\t\t\tname: '4_Mixed_AO'\n\t\t}, {\n\t\t\turl: '4_Normal_OpenGL.jpg',\n\t\t\tname: '4_Normal_OpenGL'\n\t\t}, {\n\t\t\turl: 'emission_black.jpg',\n\t\t\tname: 'emission_black'\n\t\t}, {\n\t\t\turl: 'environment.png',\n\t\t\tname: 'environment'\n\t\t}, {\n\t\t\turl: 'flame_alpha.jpg',\n\t\t\tname: 'flame_alpha'\n\t\t}, {\n\t\t\turl: 'flame_color.jpg',\n\t\t\tname: 'flame_color'\n\t\t}, {\n\t\t\turl: 'gears_Base_Color.jpg',\n\t\t\tname: 'gears_Base_Color'\n\t\t}, {\n\t\t\turl: 'gears_Height.jpg',\n\t\t\tname: 'gears_Height'\n\t\t}, {\n\t\t\turl: 'gears_Metallic.jpg',\n\t\t\tname: 'gears_Metallic'\n\t\t}, {\n\t\t\turl: 'gears_Normal_OpenGL.jpg',\n\t\t\tname: 'gears_Normal_OpenGL'\n\t\t}, {\n\t\t\turl: 'gears_Roughness.jpg',\n\t\t\tname: 'gears_Roughness'\n\t\t}, {\n\t\t\turl: 'glass_alpha.jpg',\n\t\t\tname: 'glass_alpha'\n\t\t}, {\n\t\t\turl: 'glass_metallic.jpg',\n\t\t\tname: 'glass_metallic'\n\t\t}];\n\n\t\ttexturesList.forEach((item, index) => {\n\t\t\tpromiseArray.push(new Promise((resolve, reject) => {\n\t\t\t\tthis.imageLoader.load(\n\t\t\t\t\tpath + item.url,\n\t\t\t\t\t(image) => {\n\t\t\t\t\t\tthis.loadedImages[item.name] = image;\n\t\t\t\t\t\tresolve(image);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}));\n\t\t});\n\n\t\tPromise.all(promiseArray).then((res) => {\n\t\t\tthis.loadScene();\n\t\t}, (err) => {\n\t\t\tconsole.log(err);\n\t\t});\n\n\t}\n\tloadScene() {\n\t\tlet XHRLoader = new THREE.XHRLoader();\n\t\tlet jsonUrl = this.jsonUrl;\n\n\t\tXHRLoader.load(jsonUrl, (text) => {\n\t\t\tlet json = JSON.parse(text);\n\t\t\tlet loader = new THREE.ObjectLoader();\n\n\t\t\tscene = loader.parse(json.scene);\n\n\t\t\tlet mainGroup = scene.children[1];\n\t\t\tthis.brainGroup = mainGroup.children[0];\n\t\t\tthis.gearsGroup = mainGroup.children[1].children;\n\t\t\tthis.flames = mainGroup.children[2];\n\t\t\tthis.flames.children[0].visible = false;\n\t\t\tthis.flames.children[0].visible = false;\n\t\t\tthis.flames.children[1].visible = false;\n\t\t\tthis.flames.children[2].visible = false;\n\t\t\tthis.flames.children[3].visible = false;\n\t\t\tthis.flames.children[4].visible = false;\n\t\t\tthis.flames.children[5].visible = false;\n\t\t\tthis.flames.children[6].visible = false;\n\n\t\t\tlet brain = [];\n\n\t\t\tfor (let i = 0; i < this.brainGroup.children.length; i++) {\n\t\t\t\tbrain.push(this.brainGroup.children[i]);\n\t\t\t}\n\n\t\t\t// Update material for flames\n\t\t\tfor (let i = 0; i < this.flames.children.length; i++) {\n\t\t\t\tthis.flames.children[0].material.map.image = this.loadedImages['flame_color'];\n\t\t\t\tthis.flames.children[0].material.alphaMap.image = this.loadedImages['flame_alpha'];\n\t\t\t}\n\n\t\t\t// Gear 0\n\t\t\tthis.gearsGroup[0].material.map.image = this.loadedImages['gears_Base_Color'];\n\t\t\tthis.gearsGroup[0].material.normalMap.image = this.loadedImages['gears_Normal_OpenGL'];\n\t\t\tthis.gearsGroup[0].material.roughnessMap.image = this.loadedImages['gears_Roughness'];\n\t\t\tthis.gearsGroup[0].material.metalnessMap.image = this.loadedImages['gears_Metallic'];\n\t\t\tthis.gearsGroup[0].material.envMap.image = this.loadedImages['environment'];\n\t\t\tthis.gearsGroup[0].material.emissiveMap.image = this.loadedImages['emission_black'];\n\n\t\t\t// Glass\n\t\t\tthis.gearsGroup[6].material.alphaMap.image = this.loadedImages['glass_alpha'];\n\t\t\tthis.gearsGroup[6].material.metalnessMap.image = this.loadedImages['glass_metallic'];\n\t\t\tthis.gearsGroup[6].material.envMap.image = this.loadedImages['environment'];\n\n\t\t\t// Brain 1\n\t\t\t// o-brain-1\n\t\t\tbrain[0].material.map.image = this.loadedImages['1_Base_Color'];\n\t\t\tbrain[0].material.normalMap.image = this.loadedImages['1_Normal_OpenGL'];\n\t\t\tbrain[0].material.roughnessMap.image = this.loadedImages['1_Roughness'];\n\t\t\tbrain[0].material.metalnessMap.image = this.loadedImages['1_Metallic'];\n\t\t\tbrain[0].material.envMap.image = this.loadedImages['environment'];\n\t\t\tbrain[0].material.emissiveMap.image = this.loadedImages['1_Mixed_AO'];\n\t\t\tbrain[0].material.emissiveIntensity = 0;\n\n\t\t\t// Brain 2\n\t\t\t// o-brain-2\n\t\t\tbrain[1].material.map.image = this.loadedImages['1_Base_Color'];\n\t\t\tbrain[1].material.normalMap.image = this.loadedImages['1_Normal_OpenGL'];\n\t\t\tbrain[1].material.roughnessMap.image = this.loadedImages['1_Roughness'];\n\t\t\tbrain[1].material.metalnessMap.image = this.loadedImages['1_Metallic'];\n\t\t\tbrain[1].material.envMap.image = this.loadedImages['environment'];\n\t\t\tbrain[1].material.emissiveMap.image = this.loadedImages['1_Mixed_AO'];\n\t\t\tbrain[1].material.emissiveIntensity = 0;\n\n\t\t\t// Brain 3\n\t\t\t// o-brain-3\n\t\t\tbrain[2].material.map.image = this.loadedImages['2_Base_Color'];\n\t\t\tbrain[2].material.metalnessMap.image = this.loadedImages['2_Metallic'];\n\t\t\tbrain[2].material.envMap.image = this.loadedImages['environment'];\n\t\t\tbrain[2].material.emissiveMap.image = this.loadedImages['2_Mixed_AO'];\n\t\t\tbrain[2].material.emissiveIntensity = 0;\n\n\t\t\t// Brain 4\n\t\t\t// o-brain-4\n\t\t\tbrain[3].material.map.image = this.loadedImages['2_Base_Color'];\n\t\t\tbrain[3].material.metalnessMap.image = this.loadedImages['2_Metallic'];\n\t\t\tbrain[3].material.envMap.image = this.loadedImages['environment'];\n\t\t\tbrain[3].material.emissiveMap.image = this.loadedImages['2_Mixed_AO'];\n\t\t\tbrain[3].material.emissiveIntensity = 0;\n\n\t\t\t// Brain 5\n\t\t\t// o-brain-5_1\n\t\t\tbrain[4].material.map.image = this.loadedImages['1_Base_Color'];\n\t\t\tbrain[4].material.normalMap.image = this.loadedImages['1_Normal_OpenGL'];\n\t\t\tbrain[4].material.roughnessMap.image = this.loadedImages['1_Roughness'];\n\t\t\tbrain[4].material.metalnessMap.image = this.loadedImages['1_Metallic'];\n\t\t\tbrain[4].material.envMap.image = this.loadedImages['environment'];\n\t\t\tbrain[4].material.emissiveMap.image = this.loadedImages['1_Mixed_AO'];\n\t\t\tbrain[4].material.emissiveIntensity = 0;\n\n\t\t\t// Brain 6\n\t\t\t// o-brain-5_2\n\t\t\tbrain[5].material.map.image = this.loadedImages['3_Base_Color'];\n\t\t\tbrain[5].material.normalMap.image = this.loadedImages['3_Normal_OpenGL'];\n\t\t\tbrain[5].material.metalnessMap.image = this.loadedImages['3_Metallic'];\n\t\t\tbrain[5].material.envMap.image = this.loadedImages['environment'];\n\t\t\tbrain[5].material.emissiveMap.image = this.loadedImages['3_Mixed_AO'];\n\t\t\tbrain[5].material.emissiveIntensity = 0;\n\n\t\t\t// Brain 7\n\t\t\t// o-brain-6_1\n\t\t\tbrain[6].material.map.image = this.loadedImages['1_Base_Color'];\n\t\t\tbrain[6].material.normalMap.image = this.loadedImages['1_Normal_OpenGL'];\n\t\t\tbrain[6].material.roughnessMap.image = this.loadedImages['1_Roughness'];\n\t\t\tbrain[6].material.metalnessMap.image = this.loadedImages['1_Metallic'];\n\t\t\tbrain[6].material.envMap.image = this.loadedImages['environment'];\n\t\t\tbrain[6].material.emissiveMap.image = this.loadedImages['1_Mixed_AO'];\n\t\t\tbrain[6].material.emissiveIntensity = 0;\n\n\t\t\t// Brain 8\n\t\t\t// o-brain-6_2\n\t\t\tbrain[7].material.map.image = this.loadedImages['3_Base_Color'];\n\t\t\tbrain[7].material.normalMap.image = this.loadedImages['3_Normal_OpenGL'];\n\t\t\tbrain[7].material.metalnessMap.image = this.loadedImages['3_Metallic'];\n\t\t\tbrain[7].material.envMap.image = this.loadedImages['environment'];\n\t\t\tbrain[7].material.emissiveMap.image = this.loadedImages['3_Mixed_AO'];\n\t\t\tbrain[7].material.emissiveIntensity = 0;\n\n\t\t\t// Brain 9\n\t\t\t// o-brain-7\n\t\t\tbrain[8].material.map.image = this.loadedImages['4_Base_Color'];\n\t\t\tbrain[8].material.normalMap.image = this.loadedImages['4_Normal_OpenGL'];\n\t\t\tbrain[8].material.emissiveMap.image = this.loadedImages['4_Mixed_AO'];\n\t\t\tbrain[8].material.emissiveIntensity = 0;\n\n\t\t\tcameraInit();\n\n\t\t\tmesh = scene.children[1];\n\t\t\tmesh.rotation.z = 0.1;\n\t\t\tmesh.rotation.y = 2;\n\t\t\tmesh.rotation.x = 1;\n\t\t\tmesh.position.y = 1.5;\n\t\t});\n\t}\n}\n\nvar brainModel = new BrainModel();\n","function mouseHover() {\n\tif (scene) {\n\t\tcamera.updateMatrixWorld();\n\n\t\t// find intersections\n\t\traycaster.setFromCamera(mouse, camera);\n\n\t\tvar intersects = raycaster.intersectObjects(brainModel.brainGroup.children, true);\n\n\t\tif (intersects.length > 0) {\n\n\t\t\tif (INTERSECTED != intersects[0].object) {\n\t\t\t\t/*switch (intersects[0].object.name) {\n\t\t\t\t\tcase 'o-brain-1':\n\t\t\t\t\t\tbrainModel.flames.children[0].visible = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'o-brain-2':\n\t\t\t\t\t\tbrainModel.flames.children[1].visible = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'o-brain-3':\n\t\t\t\t\t\tbrainModel.flames.children[2].visible = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'o-brain-4':\n\t\t\t\t\t\tbrainModel.flames.children[3].visible = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'o-brain-5_1':\n\t\t\t\t\t\tbrainModel.flames.children[4].visible = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'o-brain-5_2':\n\t\t\t\t\t\tbrainModel.flames.children[5].visible = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'o-brain-6_1':\n\t\t\t\t\t\tbrainModel.flames.children[5].visible = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'o-brain-6_2':\n\t\t\t\t\t\tbrainModel.flames.children[5].visible = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'o-brain-7':\n\t\t\t\t\t\tbrainModel.flames.children[6].visible = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}*/\n\n\t\t\t\tif (INTERSECTED) {\n\t\t\t\t\t// To reset after changing hover object\n\t\t\t\t\tINTERSECTED.material.emissiveIntensity = 0;\n\t\t\t\t}\n\n\t\t\t\tINTERSECTED = intersects[0].object;\n\t\t\t\tconsole.log(INTERSECTED.name);\n\t\t\t\tINTERSECTED.material.emissiveIntensity = 1;\n\t\t\t}\n\n\t\t} else {\n\t\t\tbrainModel.flames.children[0].visible = false;\n\t\t\tbrainModel.flames.children[1].visible = false;\n\t\t\tbrainModel.flames.children[2].visible = false;\n\t\t\tbrainModel.flames.children[3].visible = false;\n\t\t\tbrainModel.flames.children[4].visible = false;\n\t\t\tbrainModel.flames.children[5].visible = false;\n\t\t\tbrainModel.flames.children[6].visible = false;\n\t\t\tif (INTERSECTED) {\n\t\t\t\tINTERSECTED.material.emissiveIntensity = 0;\n\t\t\t}\n\t\t\tINTERSECTED = null;\n\t\t}\n\n\t\trenderer.render(scene, camera);\n\t}\n\n}\n","function render() {\n\tif (mesh) {\n\t\t// debugger;\n\t\t// G1\n\t\tbrainModel.gearsGroup[0].rotation.z += 0.015 / 4;\n\t\t// G2\n\t\tbrainModel.gearsGroup[1].rotation.z -= 0.05 / 4;\n\t\t// G3\n\t\tbrainModel.gearsGroup[4].rotation.z -= 0.02 / 4;\n\t\t// G4\n\t\tbrainModel.gearsGroup[2].rotation.z += 0.05 / 4;\n\t\t// G5\n\t\tbrainModel.gearsGroup[3].rotation.z -= 0.05 / 4;\n\n\t\tmesh.rotation.y += (targetRotationX - mesh.rotation.y) * ROTATION_BOUNCE;\n\n\t\t// Rotation info\n\t\t$rotationInfoX.textContent = Math.round(mesh.rotation.x * 100) / 100;\n\t\t$rotationInfoY.textContent = Math.round(mesh.rotation.y * 100) / 100;\n\n\t\tfinalRotationY = (targetRotationY - mesh.rotation.x);\n\t\tif (mesh.rotation.x <= 1 && mesh.rotation.x >= -1) {\n\t\t\tmesh.rotation.x += finalRotationY * ROTATION_BOUNCE;\n\t\t}\n\t\t// Max\n\t\tif (mesh.rotation.x > 1) {\n\t\t\tmesh.rotation.x = 1;\n\t\t}\n\t\t// Min\n\t\tif (mesh.rotation.x < -0.5) {\n\t\t\tmesh.rotation.x = -0.5;\n\t\t}\n\n\n\n\t\t/*var vectorServices = mesh.geometry.vertices[500].clone();\n\t\tvectorServices.applyMatrix4(mesh.matrixWorld);\n\t\tlineServices.geometry.vertices[1] = vectorServices;\n\t\tlineServices.geometry.verticesNeedUpdate = true;\n\n\t\tvar vectorContacts = mesh.geometry.vertices[100].clone();\n\t\tvectorContacts.applyMatrix4(mesh.matrixWorld);\n\t\tlineContacts.geometry.vertices[1] = vectorContacts;\n\t\tlineContacts.geometry.verticesNeedUpdate = true;\n\n\t\tvar vectorProjects = mesh.geometry.vertices[2000].clone();\n\t\tvectorProjects.applyMatrix4(mesh.matrixWorld);\n\t\tlineProjects.geometry.vertices[1] = vectorProjects;\n\t\tlineProjects.geometry.verticesNeedUpdate = true;\n\n\t\tvar vectorAbout = mesh.geometry.vertices[1000].clone();\n\t\tvectorAbout.applyMatrix4(mesh.matrixWorld);\n\t\tlineAbout.geometry.vertices[1] = vectorAbout;\n\t\tlineAbout.geometry.verticesNeedUpdate = true;*/\n\n\n\t}\n\n\tif (scene) {\n\t\trenderer.render(scene, camera);\n\t}\n}\n"],"sourceRoot":"/source/"}